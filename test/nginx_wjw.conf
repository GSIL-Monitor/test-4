user  nobody;
worker_processes  auto;
error_log  /data/log/nginx/error.log  notice;
pid        /data/log/nginx/nginx.pid;
worker_rlimit_nofile 65535;

events {
    use epoll;
    worker_connections  65535;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    set_real_ip_from 10.1.27.77;
    set_real_ip_from 10.1.27.71;
    real_ip_header X-Forwarded-For;

    log_format json '{"@timestamp":"$time_iso8601",'
                    '"host":"$server_addr",'
                    '"clientip":"$remote_addr",'
                    '"size":$body_bytes_sent,'
                    '"responsetime":$request_time,'
                    '"upstreamtime":"$upstream_response_time",'
                    '"upstreamhost":"$upstream_addr",'
                    '"http_host":"$host",'
                    '"url":"$uri",'
                    '"referer":"$http_referer",'
                    '"agent":"$http_user_agent",'
                    '"status":"$status"}';
    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
    #                  '$status $body_bytes_sent "$http_referer" '
    #                  '"$http_user_agent" "$http_x_forwarded_for"';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    gzip  on;

    upstream ncme {
             sticky;
             server 10.1.27.105:8080 weight=1;
             server 10.1.27.94:8080  weight=1;
             server 10.1.27.103:8080 weight=1;
    }
    upstream ncme_api {
             sticky;
             server 10.1.27.148:9090 weight=2;
             server 10.1.27.149:9090 weight=2;
             server 10.1.27.148:9091 weight=1;
             server 10.1.27.149:9091 weight=1;
    }
    upstream ncme_api2 {
             sticky;
             server 10.1.27.95:9090  weight=1;
             server 10.1.27.139:9090 weight=1;
    }
    upstream nmhm {
             sticky;
             server 10.1.27.79:8080 weight=1;
             server 10.1.27.83:8080 weight=1;
    }
    server {
        listen       80;
        server_name  www.ncme.org.cn;
        #index  index.html index.htm;
        #root   /usr/local/nginx/html/www.anquan100.cn;
        #charset koi8-r;

        access_log  /data/log/nginx/10.1.27.94.log json;

        location / {
            proxy_pass http://ncme;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }

        location /nginxStatus {
            stub_status           on;
            access_log            /data/log/nginx/10.1.27.94.log;
            auth_basic            "nginxStatus";
            auth_basic_user_file  ../conf/htpasswd;
        }

        location /MP_verify_FuNsHYGdxCx77Vp0.txt {
            root /data/www/index;
        }

        location /api {
            proxy_pass http://ncme_api/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }

        location /jcnl.do {
            rewrite ^/.* http://$server_name/specialAbilityList.do?method=firstGP permanent;
        }

        location /bm.do {
            rewrite ^/.* http://$server_name/countryURL.do?method=login permanent;
        }

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }
    }
    server {
        listen       80;
        server_name  jwpx.ncme.org.cn;
        #index  index.html index.htm;
        #root   /usr/local/nginx/html/www.anquan100.cn;

        #charset koi8-r;

        access_log  /data/log/nginx/10.1.27.94.log json;

        location / {
          rewrite ^/.* http://www.ncme.org.cn/specialAbilityList.do?method=firstGP permanent;
        }

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }
    }
    server {
        listen       80;
        server_name  admin.ncme.org.cn;
        #index  index.html index.htm;
        #root   /usr/local/nginx/html/www.anquan100.cn;

        #charset koi8-r;

        access_log  /data/log/nginx/10.1.27.103.log;

        location / {
            proxy_pass http://ncme/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }
    }
    server {
        listen       80;
        server_name  deploy.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        location /MP_verify_zyM4GAUB5BLQdhqa.txt {
            root /data/www/index;
        }
        #access_log  /data/log/nginx/10.1.27.94.log;

        #location / {
        #    proxy_pass http://10.1.27.116:8081/;
        #    proxy_redirect off;
        #    proxy_set_header Host $host;
        #    proxy_set_header X-Real-IP $remote_addr;
        #    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        #    proxy_intercept_errors on;
        #}
        location / {
            proxy_pass http://10.1.27.94:8088/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /qiantai {
            proxy_pass http://10.1.27.94:8088/qiantai;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /zxxt {
            proxy_pass http://10.1.27.94:8088/zxxt;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /resource {
            proxy_pass http://10.1.27.94:8088/resource;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /admin  {
            proxy_pass http://10.1.27.94:8088/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /ncmeapp {
            proxy_pass http://10.1.27.94:8088/ncmeapp;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /api {
            proxy_pass http://ncme_api/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  predeploy.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        location /MP_verify_zyM4GAUB5BLQdhqa.txt {
            root /data/www/index;
        }
        access_log  /data/log/nginx/10.1.27.94.predeploy.log;

        location / {
            proxy_pass http://10.1.27.95:8090/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /qiantai {
            proxy_pass http://10.1.27.95:8090/qiantai;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /zxxt {
            proxy_pass http://10.1.27.95:8090/zxxt;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /resource {
            proxy_pass http://10.1.27.95:8090/resource;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /admin  {
            proxy_pass http://10.1.27.95:8090/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /ncmeapp {
            proxy_pass http://10.1.27.95:8090/ncmeapp;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /api {
            proxy_pass http://ncme_api2/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  git.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        access_log  /data/log/nginx/10.1.27.94.git.log;

        location / {
            proxy_pass http://10.1.27.116/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 1000m;
            proxy_intercept_errors on;
            proxy_connect_timeout 6000;
            proxy_send_timeout 6000;
            proxy_read_timeout 6000;
        }
    }
    server {
        listen       80;
        server_name  testlink.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.103.git.log;

        location / {
            proxy_pass http://10.1.27.98/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 100m;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  jira.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.96:8080/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  test.ncme.org.cn;

        root /data/www/index;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        #access_log  /data/log/nginx/10.1.27.94.log;
        location / {
          proxy_pass http://10.1.27.95:8080;
          proxy_redirect off;
          proxy_set_header Host $host;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          client_max_body_size 2048m;
          client_body_buffer_size 128k;
          proxy_connect_timeout 90;
          proxy_send_timeout 90;
          proxy_read_timeout 90;
          proxy_buffer_size 4k;
          proxy_buffers 4 32k;
          proxy_busy_buffers_size 64k;
          proxy_temp_file_write_size 64k;
          proxy_intercept_errors on;
        }
        location /qiantai {
            proxy_pass http://10.1.27.95:8080/qiantai;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /admin {
            proxy_pass http://10.1.27.95:8080/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /resource {
            proxy_pass http://10.1.27.95:8080/resource;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /weixin {
            proxy_pass http://10.1.27.95:8080/weixin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /zxnl {
            proxy_pass http://10.1.27.139:8080/zxnl;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  zxnl.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.112:8080/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  cms.ncme.org.cn zlxr.ncme.org.cn szd.ncme.org.cn grfk.ncme.org.cn syjz.ncme.org.cn txgl.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.112:8089/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    upstream ncme_perf {
             sticky;
             server 10.1.27.145:8080 weight=2;
             server 10.1.27.146:8080 weight=2;
             #server 10.1.27.105:8080 weight=3;
    }
    server {
        listen       80;
        server_name  10.1.27.200;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        #access_log  /data/log/nginx/10.1.27.94.log;
        location / {
            proxy_pass http://ncme_perf;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  dev.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        #access_log  /data/log/nginx/10.1.27.94.log;
        location /qiantai {
            proxy_pass http://10.1.27.106:8090/qiantai;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /resource {
            proxy_pass http://10.1.27.106:8090/resource;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /admin {
            proxy_pass http://10.1.27.106:8090/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /ncmeapp {
            proxy_pass http://10.1.27.106:8090/ncmeapp;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /zx {
            proxy_pass http://10.1.27.106:8090/zx;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /zxxt {
            proxy_pass http://10.1.27.139:8080/zxxt;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /test_api {
            proxy_pass http://10.1.27.106:9090/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /MP_verify_zyM4GAUB5BLQdhqa.txt {
            root /data/www/index;
        }
    }
    server {
        listen       80;
        server_name  api.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }
        #access_log  /data/log/nginx/10.1.27.94.log;
        location / {
            proxy_pass http://ncme_api;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  icme.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.131/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /admin/ {
            proxy_pass http://10.1.27.131:8088/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /api/ {
            proxy_pass http://10.1.27.131:8080/cme/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  gx1.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        #access_log  /data/log/nginx/10.1.27.94.log;
        location / {
            proxy_pass http://10.1.27.95:8080;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    upstream gx2 {
             sticky;
             server 10.1.27.95:8081 weight=2;
             server 10.1.27.95:8082 weight=2;
             #server 10.1.27.105:8080 weight=3;
    }
    server {
        listen       80;
        server_name  gx2.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        access_log  /data/log/nginx/10.1.27.94.gx2.log;
        location / {
            proxy_pass http://gx2;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  jenkins.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.116:8081/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  image.ncme.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location / {
            proxy_pass http://10.1.27.249:7480;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 10m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  test.nmhm.org.cn;

        error_page  404 /404.html;

        error_page   500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        #access_log  /data/log/nginx/10.1.27.94.log;

        location /admin {
            proxy_pass http://10.1.27.82:8080/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location / {
            proxy_pass http://10.1.27.82:8080/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
    server {
        listen       80;
        server_name  www.nmhm.org.cn;

        error_page  404 /404.html;

        error_page  500 502 503 504  /500.html;

        location /404.html {
            root /data/www/index;
        }

        location /500.html {
            root /data/www/index;
        }

        access_log  /data/log/nginx/10.1.27.94.nmhm.log;

        location /admin {
            proxy_pass http://nmhm/admin;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location /resource {
            proxy_pass http://nmhm/resource;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
        location / {
            proxy_pass http://nmhm/;
            proxy_redirect off;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            client_max_body_size 2048m;
            client_body_buffer_size 128k;
            proxy_connect_timeout 90;
            proxy_send_timeout 90;
            proxy_read_timeout 90;
            proxy_buffer_size 4k;
            proxy_buffers 4 32k;
            proxy_busy_buffers_size 64k;
            proxy_temp_file_write_size 64k;
            proxy_intercept_errors on;
        }
    }
}
